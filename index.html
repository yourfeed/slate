<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>YourFeed API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;http&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="http">http</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the API documentation for YourFeed. This is a work in progress so please check back for regular updates.</p>

<h1 id="authentication">Authentication</h1>
<pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/users/authenticate</span> <span class="k">HTTPS</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">51edfaa56d5c4e727792</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.yourfeed.com</span>
</code></pre>
<blockquote>
<p>Contact YourFeed to obtain an API token</p>
</blockquote>

<p>All API clients will be issued with an API token (contact YourFeed directly to arrange this). The API token should be sent as an HTTP header with all requests. Requests to the API are only supported over HTTPS to protect the security of this token; it should not be disclosed to any third parties or committed to source control.</p>

<p>The header should look like this:
<code class="prettyprint">Authorization: 51edfaa56d5c4e727792</code></p>

<aside class="notice">
You must replace the example above with your personal API key.
</aside>

<h1 id="user-api">User API</h1>

<h2 id="create-new-user">Create new user</h2>
<pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/users</span> <span class="k">HTTPS</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">&lt;YOUR API ACCESS TOKEN&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.yourfeed.com</span>
</code></pre>
<blockquote>
<p>Returns a 200 success JSON response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00ec95b8-ee36-40d5-9bf8-fee74d22ed1a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someone@somewhere.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bobby"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tables"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$2a$11$VdSCQdulx0qaiNJzhM/SiOjNe3RBWHwZ0vObD3eC6XiDAk3d0YBmi"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint may be used to create a new user using supplied credentials and additional user details. If these are valid a new user is created (allocating a new unique id) and a JSON Web Token is returned as part of the response; this may then be used for further API calls with that user.</p>

<p>If any of the user details are invalid an error response is returned - this will include a list of error messages that may be presented to the user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.yourfeed.com/users</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>Email address provided by user</td>
</tr>
<tr>
<td>password</td>
<td>Password provided by user</td>
</tr>
<tr>
<td>firstName</td>
<td>First name provided by user</td>
</tr>
<tr>
<td>lastName</td>
<td>Last name provided by user</td>
</tr>
</tbody></table>

<p>All parameters are required.</p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>Scenario</th>
<th>Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid user</td>
<td>422</td>
<td><code class="prettyprint">[&quot;Password cannot be blank&quot;, &quot;Password is too short&quot;]</code></td>
</tr>
<tr>
<td>Email already registered</td>
<td>422</td>
<td><code class="prettyprint">[&quot;Email address has already been taken&quot;]</code></td>
</tr>
</tbody></table>

<aside class="notice">
Passwords are case sensitive, must be at least 6 characters long (maximum 128 characters), and contain at least one letter and one number.
</aside>

<aside class="warning">
Password confirmation is not supported in the API; if required this should be implemented outside of the API, checking that password and password confirmation fields match. Pass only a single password parameter in the API request.
</aside>

<h2 id="authenticate-user">Authenticate user</h2>
<pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/users/authenticate</span> <span class="k">HTTPS</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">&lt;YOUR API ACCESS TOKEN&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.yourfeed.com</span>
</code></pre>
<blockquote>
<p>Returns a 200 success JSON response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00ec95b8-ee36-40d5-9bf8-fee74d22ed1a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someone@somewhere.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bobby"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tables"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$2a$11$VdSCQdulx0qaiNJzhM/SiOjNe3RBWHwZ0vObD3eC6XiDAk3d0YBmi"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint may be used to check user credentials (email address and password). If these are valid a JSON Web Token is returned as part of the response; this may then be used for further API calls with that user. If the credentials are invalid an error response is returned - this is deliberately vague and does not distinguish between unknown email address and invalid password for a known email.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.yourfeed.com/users/authenticate</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>Users email address</td>
</tr>
<tr>
<td>password</td>
<td>Password provided by user</td>
</tr>
</tbody></table>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>Scenario</th>
<th>Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid credentials</td>
<td>401</td>
<td><code class="prettyprint">&quot;Invalid email/password combination&quot;</code></td>
</tr>
</tbody></table>

<h2 id="reset-password">Reset password</h2>
<pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/users/password</span> <span class="k">HTTPS</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">&lt;YOUR API ACCESS TOKEN&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.yourfeed.com</span>
</code></pre>
<blockquote>
<p>Returns a 200 success JSON response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someone@somewhere.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint may be used to request a password reset email for the specified user. The email will include a link for the user to reset their password; this should link to a page hosted outside the API where users may provide a new password. The link will include a query string ending with the <code class="prettyprint">token</code> parameter e.g.</p>

<p><code class="prettyprint">&lt;a href=&quot;https://partner.domain.com/password/reset?token=2abfea1648dce807802ea5351d2baa5d9b1d0adf0e62a717e183edfaa61a44829216b3361cad6c5f9aba1a6aa3a20b545122bcc64123cdd5b51ba619a2cc063e&quot;&gt;Change my password&lt;/a&gt;</code></p>

<p>If the email address could not be found an error response is returned instead and no email is sent.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.yourfeed.com/users/password</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>Email address provided by user</td>
</tr>
</tbody></table>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>Scenario</th>
<th>Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid credentials</td>
<td>404</td>
<td><code class="prettyprint">&quot;Unknown email address&quot;</code></td>
</tr>
</tbody></table>

<aside class="notice">
The password reset landing page must be hosted at a URL supporting https protocol. Please contact YourFeed to configure this URL.
</aside>

<aside class="warning">
Although the API response may be used to indicate that an unknown email address was provided by the user, it is strongly recommended to provide a generic response to the user regardless of this to prevent fishing for known email accounts.
</aside>

<h2 id="update-password">Update password</h2>
<pre class="highlight http tab-http"><code><span class="nf">PUT</span> <span class="nn">/users/password</span> <span class="k">HTTPS</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">User-Agent</span><span class="p">:</span> <span class="s">MyClient/1.0.0</span>
<span class="na">Accept</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">&lt;YOUR API ACCESS TOKEN&gt;</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.yourfeed.com</span>
</code></pre>
<blockquote>
<p>Returns a 200 success JSON response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00ec95b8-ee36-40d5-9bf8-fee74d22ed1a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"someone@somewhere.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bobby"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tables"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint may be used to complete a forgotten password request by passing a new password entered by the user and the password reset token provided in the email link. If the new password and token are valid the user will be updated and they may then authenticate in a subsequent request using their new credentials.</p>

<p>If the token is invalid, has expired or the new password is not valid an error response is returned instead.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.yourfeed.com/users/password</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Password reset request token provided in previous email to user</td>
</tr>
<tr>
<td>password</td>
<td>New password provided by user</td>
</tr>
</tbody></table>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>Scenario</th>
<th>Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid token or password</td>
<td>422</td>
<td><code class="prettyprint">&quot;Failed to change password&quot;</code></td>
</tr>
</tbody></table>

<aside class="notice">
Password reset tokens may only be used once and expire after 6 hours.
</aside>

<aside class="warning">
Password confirmation is not supported in the API; if required this should be implemented outside of the API, checking that password and password confirmation fields match. Pass only a single password parameter in the API request.
</aside>

          <h1 id="errors">Errors</h1>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"That's not gone well"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Successful API calls will normally return a 200 status. Failed API calls will return an alternate status as detailed below. In addition For failed API calls, an <code class="prettyprint">error</code> JSON response will be returned including a descriptive message.</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Check user email and password credentials.</td>
</tr>
<tr>
<td>403</td>
<td>Not allowed &ndash; Check API token.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; Check email address or password reset.</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable &ndash; Validation rules failed.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; Temporarily offline for maintenance. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="http">http</a>
          </div>
      </div>
    </div>
  </body>
</html>
